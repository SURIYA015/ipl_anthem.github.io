<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link href="css/style.css" rel="stylesheet">
        <link href="fontawesome/css/fontawesome.min.css" rel="stylesheet">
        <link href="fontawesome/css/fontawesome.css" rel="stylesheet">
        <link href="fontawesome/css/all.css" rel="stylesheet">
    </head>
    <body>
        <div class="main_div">
            <div class="music_container">
                <h2 id="title">Chennai Super Kings</h2>
                <h3 id="artist">CSK</h3>
                <div class="img_container">
                    <img src="images/music1.jpg" alt="">
                </div>
                <audio src="music/music1.mp3"></audio>
                <!-------------------------Controls------------------------>
                <div class="music_controls">
                    <i class="fas fa-backward" id="prev" title="Previous"></i>
                    <i class="fas fa-play main_button" id="play" title="Play"></i>
                    <i class="fas fa-forward" id="next" title="Next"></i>
                </div>
            </div>
        </div>
        <script>
            const music=document.querySelector("audio");
            const play=document.querySelector('#play');
            const image=document.querySelector('img');
            const title=document.querySelector('#title');
            const artist=document.querySelector('#artist');
            const next=document.querySelector('#next');
            const prev=document.querySelector('#prev');
            const songs=[
                {
                    name:"music1",
                    title:"Chennai Super Kings",
                    artist:"CSk"
                },
                {
                    name:'music2',
                    title:"Mumbai Indians",
                    artist:"MI"
                },
                {
                    name:"music3",
                    title:"KOLKATA KNIGHT RIDER",
                    artist:"KKR"
                },
                {
                    name:"music4",
                    title:"SUN RISERS HYDERABAD",
                    artist:"SRH"
                },
                {
                    name:"music5",
                    title:"RAJASTHAN ROYAL",
                    artist:"RR"
                },
                {
                    name:"music6",
                    title:"DELHI CAPITALS",
                    artist:"DC"
                },
                {
                    name:"music7",
                    title:"INDIAN PREMIRE LEAGUE",
                    artist:"IPL"
                }
            ];
            let isplaying=false;
            function playMusic(){
                isplaying=true;
                music.play();
                play.classList.replace('fa-play','fa-pause');
                image.classList.add('anime');
            }
            function pauseMusic(){
                isplaying=false;
                music.pause();
                play.classList.replace('fa-pause','fa-play');
                image.classList.remove('anime');
            }
            play.addEventListener('click',()=>{
                isplaying?pauseMusic():playMusic();
            });
            //changing the title and the artist
            function loadSongs(songs){
                title.textContent=songs.title;
                artist.textContent=songs.artist;
                music.src="music/"+songs.name+".mp3";
                image.src="images/"+songs.name+".jpg";
            }
            songIndex=0;
            function nextSong(){
                songIndex=(songIndex + 1) % songs.length;
                loadSongs(songs[songIndex]);
                playMusic();
            }
            function prevSong(){
                songIndex=(songIndex - 1 + songs.length) % songs.length;
                loadSongs(songs[songIndex]);
                playMusic();
            }
            next.addEventListener('click',nextSong);
            prev.addEventListener('click',prevSong);
        </script>
    </body>
</html>
